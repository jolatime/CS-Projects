<!-- 
	Alex Miller
	Jordan Latimer

	Profile Page for Admins
-->
<html>
	<head>
		<title> NMU CTF Profile Page </title>
		<link rel="stylesheet" href="(A)Profile_Page.css">
		<script rel="text/javascript" src="Helpers.js"> </script>
		<script rel="text/javascrip" src="(A)Profile_Page.js"> </script>
	</head>

	<body>

		<div id="Header">
			<h1> Profile </h1>
			<div class="tooltip">
				?
				<span class="tooltipText">
					This is where you can do anything and 
					<br>
					everything with your <span style="color: white">Students</span>
					or look at the current stats for <span style="color: white;">Flags</span>
				</span>
			</div>
			<br>
			<br>
			<button class='HeadButts' id="ContestPage" onclick="gotoPage('(A)Contest_Page.html?email=', 'admin=True')"> Back to Contest</button>
			<button class='HeadButts' id="ModifyContests" onclick="gotoPage('Modify_Contests.html?email=')">Modify Contests</button>
			<button class='HeadButts' id="Logout" onclick="window.location.href = 'Login.html'">Logout</button>
			<br>
			<br>
		</div>


		<!-- everything with students side of the page -->
		<div id="Students">
			<h1> Students </h1>
			<div class="tooltip">
				?
				<span class="tooltipText">
					Here you will see a list of your <span style="color:white">Students</span> 
					<br>
					you can search for specific students
					<br>
					or filter them how you would like. For searching a specific <span style="color:white;">Student</span>, make sure 
					<br>
					<span style="color:white;">Name</span> is selected in the dropdown
				</span>
			</div>
			<br>
			<br>

			<!-- searching for students -->
			<div id="Student_Search">
				<input id="StudentName" type="text" placeholder="Student Name">
				<select id="Options">
					<option disabled selected hidden> Sort By: </option>
					<option> Name (A->Z) </option>
					<option> Name (Z->A) </option>
					<option> Flags (H->L) </option>
					<option> Flags (L->H) </option>
				</select>
				<input type="button" onclick="SortTable()" value="Sort">
				<button id="AddStudent" onclick="Popup('Add_Student.html', getEmail())"> Add Student </button>
			
				<div class="tooltip">
					?
					<span class="tooltipText">
						<span style="color:lawngreen;">Add Student: </span> opens a popup to add a <span style="color:white;">Student</span> to the list
						<br>
						<span style="color:blue;">Edit: </span> allows you to edit a students <span style="color:white;">Password</span>
						<br>
						<span style="color:red;">Delete: </span> Deletes a <span style="color:white;">Student</span>
					</span>
				</div>
			</div>

			<!-- Student Table -->
			<div id="StudentsTable">
				<table>
					<thead>
						<tr>
							<th> Student Name </th>
							<th> Flags </th>
							<th> Email </th>
							<th> Change Password </th>
							<th> Delete </th>
						</tr>
					</thead>
					<tbody id="TBody">
					</tbody>
				</table>
			</div>

		</div>

		<!-- everythig with the flags side of the page -->
		<div id="Flags">
			<h1> Flags </h1>
			<div class="tooltip">
				?
				<span class="tooltipText">
					This is where you can look at how your <span style="color:white;">Students</span>
					<br>
					are doing with the <span style="color:white;">Flags</span> you created
				</span>
			</div>
			<br>
			<br>

			<!-- dropdown for contests -->
			<div id="ContestDropDown">
				<select id="DropDown">
					<option disabled selected hidden> Select a Contest </option>
				</select>
				<input type="button" value="Get Flags" onclick="PopulateFlagsTable()">
				<input type="button" value="Leaderboard" onclick="getLeaderboard()">
			
				<div class="tooltip">
					?
					<span class="tooltipText">
						<span style="color:white;">Get Flags: </span> shows all the <span style="color:white;">Flags</span> for that contests and the stats
						<br>
						<span style="color:white;">Leaderboard: </span> popup a leaderboard for that <span style="color:white;">Contest</span> to see how each <span style="color:white;">Student</span> is doing
					</span>
				</div>
			</div>

			<!-- table for flags -->
			<div id="FlagsTable">
				<table>
					<thead>
						<tr>
							<th> Flag Name </th>
							<th> Attempts </th>
							<th> Completions </th>
							<th> Ratio </th>
						</tr>
					</thead>
					<tbody id="FlagTBody">
					</tbody>
				</table>
			 </div>

		</div>

		<!-- Dialog box for reassurance of deleting a student -->
		<dialog id="DialogBox">
			Are you sure you want to delete <strong id="emailDB">Email</strong>
			<br>
			<button onclick="document.getElementById('DialogBox').close();"> Cancel </button>
			<button id="Delete" onclick="DeleteStudent()"> Delete </button>
		</dialog>
	</body>
</html>
